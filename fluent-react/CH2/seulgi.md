# JSX

> JavaScript Syntax eXtension
> 

어떻게 작동하는지, 개념적으로 어떻게 코드를 만들 수 있는지

자바스크립트의 확장구문

## 2.1 자바스크립트 XML?

- AJAX 비동기 자바스크립트와 XML
- 기존 기술을 사용해 페이지를 벗어나지 않은 채 비동기적으로 업데이트되는 대화형 웹 페이지를 만드는 새로운 방식
- XMLHttpRequest 같은 도구를 사용하면 HTTP를 통해 비동기 요청을 할 수 있음
    - 쉽게 말하자면 자바스크립트로 서버에 데이터를 요청하는 것
- JSX는 자바스크립트 코드 내에서 HTML과 유사한 코드를 작성할 수 있게 하는 자바스크립트용 구문 확장자
    - 별도의 언어가 아니라, 컴파일러나 트랜스파일러에 의해 일반 자바스크립트 코드로 변환되는 확장 구문
- 브라우저에 전달되기 전 바닐라 JS가 됨

## 2.2 JSX 장점

- 더 쉬운 읽기 및 쓰기
- 데이터 소독을 통한 향상된 보안
    - 새로운 엘리먼트를 생성할 수 있는 `<` , `>` 와 같은 문자가 HTML 문자열에 포함되었다면, (`$lt;` , `$gt;` 로 변환)
- 강력한 타이핑
    - 오류가 발생하기 전 잡아 낼 수 있음
- 컴포넌트 기반 아키텍처
- 리액트 뿐만아닌 광범위한 사용

## 2.3 JSX 약점

- 학습 곡선 가중
- 전용 도구 필요
- 관심사 혼합
- 자바스크립트 호환성 부족
    - 인라인 표현식 가질 수 있지만, switch , if 블록 X

## 2.4 내부동작

- 컴파일러를 사용해 코드를 컴파일함
    - 컴파일러 : 특정 규칙에 따라 고급 프로그래밍 언어로 작성된 소스 코드를 구문 트리로 변환하는 소프트웨어
    - 구문 트리 : 자바스크립트 객체 같은 트리 자료 구조
    - 토큰화 → 구문 분석 → 코드 생성
        - 토큰화
            - 문자열을 의미있는 토큰으로 분해
            - 렉서 : 각 토큰이 자신의 부모나 자식에 관한 상태를 포함하고 있을 때
            - 렉싱 : 상태를 가지는 토큰화
        - 구문 분석
            - 토큰을 가져와 구문 트리로 변환하는 과정
            - 문자열은 JSON 객체가 됨
        - 코드 생성
            - 추상 구문 트리(AST) 에서 기계어를 생성하는 과정
    - 컴파일러 종류
        - 네이티브 컴파일러
        - 크로스 컴파일러
        - JIT 컴파일러
        - 인터프리터
- 확장 언어로 작성된 코드 문자열을 이해할 수 있는 렉서와 구문 분석기를 만들어야함
- 구문 트리를 사용해 기존의 모든 자바스크립트 엔진이 이해할 수 있는 일반적인 바닐라 JS를 생성함
    - 바벨
- 빌드단계 : JSX 는 브라우저에서 직접 사용할 수 없고 특수한 구문 분석기를 통해 구문 트리로 컴파일
    - 빌드단계를 거쳐 바닐라 JS로 변환되어 번들에 포함됨
        - 트랜스파일한다! (== 코드를 변환 후 컴파일 한다)
        - 소스 대 소스 컴파일 (source-to-source compilation)

## 2.5 JSX 프라그마

- 프라그마 ?
    - 컴파일러에 특정 작업을 수행하도록 지시하는 지시어를 뜻함
- JSX 프라그마는 모두 `<` 로 시작함
    - 비교 연산할 때를 제외하면 자바스크립트에서 인식하지 못하는 문자임
    - React.createElement 대신 `<` 문자를 사용하는 별칭에 불과함

## 2.6 표현식

- 엘리먼트 트리 내부에서 코드를 실행하는 것
- JSX 표현식은 말 그대로 표현식 이여서 엘리먼트 트리 내부에서는 문장을 실행하지 못함

```tsx
const Mycomponent =() => <Box>표현식입니다:{
	const a = 1;
	const b = 2;
	
	if(a>b){3}
}</Box>;
```

## 2.7 돌아보기

- JSX 를 유창하게 설명하기

## 2.8 복습하기

- JSX란 무엇이며, 장단점은 무엇인가요?
    - 자바스크립트 코드 내에서 HTML 과 유사한 코드를 작성할 수 있게 하는 구문 확장자
    - 장점은 HTML처럼 작성한다는것이 가장 큰 장점일 것이다. 쓰기 쉽고, 읽기 쉽고, 컴포넌트 기반 아키텍처가 된다는것
    - 단점은 바벨과 같은 전용 도구가 필요하다는것, 관심사가 혼합될 수 있다는 점
- JSX와 HTML 차이점은 무엇인가요?
    - JSX 는 HTML 처럼 작성하는 것이지 HTML 은 아님, HTML은 바벨과 같은 컴파일러가 없어도 동작하지만, JSX는 트랜스파일하는 과정이 꼭 필요함
- 텍스트 문자열은 어떻게 기계어가 되나요?
    - 컴파일러를 통해서 문자열을 의미있는 토큰 단위로 나눈 후 구문 분석을 통해 구문 트리로 변경 후 코드를 생성하는 과정을 거침
- JSX표현식이란 무엇이며 어떤 좋은 점이 있나요?
    - 말그대로 표현식이여서, 삼항 연산자를 사용한 조건 검사 혹은 문자열을 치환하는 등 다양한 표현식을 사용할 수 있음
    - 또한, 엘리먼트 트리 내부에서 코드를 실행한다는 좋은 점이 있음

## 2.9 미리보기

- 가상DOM